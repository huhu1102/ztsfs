{"version":3,"sources":["webpack:///src/components/sale/ProductionPlan.vue","webpack:///./src/components/sale/ProductionPlan.vue?210f","webpack:///./src/components/sale/ProductionPlan.vue","webpack:///./src/components/sale ^\\.\\/.*\\.vue$"],"names":["ProductionPlan","data","_ref","lastPlanDetail","startNo","endNo","lastPlanmarketPlanDetails","pickerOptions2","shortcuts","text","onClick","picker","end","Date","start","setTime","getTime","$emit","value4","value5","keywords","tableLoading","advanceSearchViewVisible","rules","types","midProduct","plans","clients","units","dialogTitle","currentPage","totalCount","totalMaterialCount","keyMaterialwords","currentMaterialPage","plan","materialType","notes","serialNumber","clientName","detail","sid","id","clientId","abbrName","quantity","name","proId","specs","stamp","proNo","marketPlanSerialNumber","type","specifications","note","productId","marketPlanDetails","dialogFormVisible","currentRowData","currentIndex","depTextColor","showOrHidePop","showHidePop","defaultProps","label","isLeaf","children","maxSid","currentDeleteData","materials","materialList","products","dialogMaterialVisible","dialogMaterialTitle","selectMaterial","selectedM","filterText","defineProperty_default","mounted","this","initData","methods","serialNumberAdd","length","maxId","forEach","v","i","arr","push","deletSerialNo","index","deletData","splice","serialNuberDeleted","console","log","filterNode","value","indexOf","showRow","row","showMaterial","loadMaterial","chooseMaterial","_this2","vm","msg","producteName","specification","$confirm","confirmButtonText","cancelButtonText","then","setDetailData","catch","$message","message","that","proType","getCurrentPlans","cancelchoose","formatStatus","column","selectType","e","icon","concat","emptyDetail","matterSelect","unitId","unitName","materialId","addBox","undefined","Object","element_ui_common","flag","mtype","parseFloat","n","clearSerialNumbers","editeDetail","deleteDetail","deletes","_this","loadData","getRequest","resp","status","mater","root","parentClientId","parentName","address","phone","abbreviation","pro","mark","color","keywordsChange","val","keywordsMaterialChange","handleNodeClick","crrentSelectShop","showCurrentNo","isprarent","changeNO","isCurrentShop","currentShop","currentParentShop","parent","lastMaxNumber","sugestParentstartNo","sugestStartNo","sugestParentEndNo","parseInt","setStartSerialNo","self","m","lastMisNumber","sugestSelfNumbers","setEndNumber","sugestSelfEndNumbers","baseData","setCurrentEndData","baseLen","currentData","zerolen","toString","str","nu","getNum","Str","isFilter","match","map","item","startIndex","startStr","substr","endStr","currentNumber","subNo","sugestNo","clearChoose","showDepTree","selectChange","currentChange","_currentChange","currentMaterialChange","addAndFlushData","searchData","searchMaterialData","showEditEmpView","createDate","currentPlan","_","cloneDeep","add","addEmpForm","_this3","cache","currentDetail","stringify_default","key","typeof_default","$refs","validate","valid","validateplanNo","postRequest","emptyData","cancelOpt","deleteData","_this4","doDelete","ids","_this5","total","_this6","computed","routes","$store","state","sale_ProductionPlan","render","_vm","_h","$createElement","_c","_self","staticStyle","padding","display","justify-content","align-items","attrs","picker-options","range-separator","start-placeholder","end-placeholder","align","model","callback","$$v","expression","_v","margin-left","size","on","click","margin-right","directives","rawName","title","close-on-click-modal","visible","width","update:visible","$event","close","ref","label-width","border","span","prop","prefix-icon","placeholder","$set","text-align","background-color","placement","trigger","default-expand-all","props","expand-on-click-node","node-click","height","font-size","border-radius","border-style","padding-left","box-sizing","border-color","cursor","style","slot","filter-node-method","_s","staticClass","alt","focus","effect","content","disabled","background","change","margin","circle","label-position","inline","_e","_l","gutter","scopedSlots","_u","fn","scope","serial","$index","clearable","nativeOn","keyup","_k","keyCode","row-click","fixed","page-size","pager-count","current-page","layout","current-change","_f","formatter","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","./ProductionPlan.vue","./SaleBase.vue","./SalesPlan.vue","webpackContext","req","webpackContextResolve","Error","keys","resolve","module","exports"],"mappings":"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","file":"static/js/4.ee3ddef32475b43fbe2e.js","sourcesContent":["<template>\r\n    <div>\r\n      <!--生产计划 -->\r\n      <div style=\"padding: 0px;display:flex;justify-content:space-between;align-items: center\">\r\n        <div style=\"display: inline\">\r\n          <!-- <div class=\"block\"> -->\r\n          <!-- <span class=\"demonstration\">带快捷选项</span> -->\r\n          <el-date-picker v-model=\"value5\" type=\"datetimerange\" :picker-options=\"pickerOptions2\" range-separator=\"至\"\r\n            start-placeholder=\"开始日期\" end-placeholder=\"结束日期\" align=\"right\">\r\n          </el-date-picker>\r\n          <!-- </div> -->\r\n          <!-- <el-input placeholder=\"通过名称搜索,记得回车哦...\" clearable @change=\"keywordsChange\"\r\n            style=\"width: 300px;margin: 0px;padding: 0px;\" size=\"mini\" :disabled=\"advanceSearchViewVisible\"\r\n            @keyup.enter.native=\"searchData\" prefix-icon=\"el-icon-search\" v-model=\"keywords\">\r\n          </el-input> -->\r\n          <el-button type=\"primary\" size=\"mini\" style=\"margin-left: 5px\" icon=\"el-icon-search\" @click=\"searchData\">搜索\r\n          </el-button>\r\n        </div>\r\n        <div style=\"margin-left: 5px;margin-right: 20px;display: inline\">\r\n          <el-button type=\"primary\" size=\"mini\" icon=\"el-icon-plus\" @click=\"addAndFlushData\">\r\n            添加\r\n          </el-button>\r\n        </div>\r\n      </div>\r\n      <el-dialog v-dialogDrag :title=\"dialogTitle\" style=\"padding: 0px;\" :close-on-click-modal=\"false\"\r\n        :visible.sync=\"dialogFormVisible\" @close=\"cancelOpt\" width=\"750px\">\r\n        <div style=\"width: 100% \" v-if=\"dialogFormVisible\">\r\n          <el-form :model=\"plan\" :rules=\"rules\" ref=\"addEmpForm\" size=\"mini\" label-width=\"90px\">\r\n            <div style=\"border: 1px solid #eeeeee;\">\r\n              <!-- <el-row>\r\n                <el-col :span='12'>\r\n                  <el-form-item label=\"编号:\" prop=\"serialNumber\">\r\n                    <el-input prefix-icon=\"el-icon-edit\" v-model=\"plan.serialNumber\" size=\"mini\" style=\"width: 200px\"\r\n                      placeholder=\"计划编号\"></el-input>\r\n                  </el-form-item>\r\n                </el-col>\r\n              </el-row> -->\r\n              <el-row>\r\n                <el-col :span='12'>\r\n                  <el-form-item label=\"备注:\" prop=\"notes\">\r\n                    <el-input prefix-icon=\"el-icon-edit\" v-model=\"plan.notes\" size=\"mini\" style=\"width: 200px\"\r\n                      type='textarea' placeholder=\"备注。。。\"></el-input>\r\n                  </el-form-item>\r\n                </el-col>\r\n  \r\n              </el-row>\r\n            </div>\r\n            <div style=\"text-align: left;border: 1px solid #eeeeee;\">\r\n              销售详情:\r\n            </div>\r\n            <div style=\"border: 1px solid #eeeeee;\">\r\n              <!-- 客户信息 -->\r\n              <div style=\"background-color:bisque\">\r\n                <div style=\"text-align: left;\">\r\n                  客户信息\r\n                </div>\r\n                <el-row>\r\n                  <el-col :span='11'>\r\n                    <el-form-item label=\"客户:\" prop=\"clientId\">\r\n                      <el-popover v-model=\"showOrHidePop\" placement=\"right\" title=\"客户信息\" trigger=\"hover\">\r\n                        <el-input placeholder=\"输入关键字进行过滤\" v-model=\"filterText\">\r\n                        </el-input>\r\n                        <el-tree :data=\"clients\" :default-expand-all=\"false\" :props=\"defaultProps\"\r\n                          :expand-on-click-node=\"false\" @node-click=\"handleNodeClick\"></el-tree>\r\n                        <div slot=\"reference\"\r\n                          style=\"width: 200px;height: 28px;display: inline-flex; justify-content:space-between;background-color: #fff;  font-size:13px;border: 1px;border-radius: 5px;border-style: solid;padding-left: 13px;box-sizing:border-box;border-color: #dcdfe6;cursor: pointer;align-items: center\"\r\n                          @click=\"showDepTree\" :filter-node-method=\"filterNode\" ref=\"tree2\"\r\n                          v-bind:style=\"{color: depTextColor}\">\r\n                          <div>{{detail.clientName}}</div>\r\n                          <div @click=\"clearChoose\" class=\"el-icon-arrow-down\" alt='hehehehe' style=\"color: #606266\">\r\n                          </div>\r\n                        </div>\r\n                      </el-popover>\r\n                    </el-form-item>\r\n                  </el-col>\r\n                  <el-col :span='11'>\r\n                    <el-form-item label=\"简称:\" prop=\"abbrName\">\r\n                      <el-input prefix-icon=\"el-icon-edit\" v-model=\"detail.abbrName\" size=\"mini\" style=\"width: 200px\"\r\n                        @focus='showMaterial' placeholder=\"局简称\"></el-input>\r\n                      <el-tooltip class=\"item\" effect=\"light\" content=\"最近一次订单\" placement=\"top\">\r\n  \r\n                      </el-tooltip>\r\n                    </el-form-item>\r\n                  </el-col>\r\n                </el-row>\r\n              </div>\r\n  \r\n              <!-- 产品信息 -->\r\n              <div style=\"background-color: rgb(175, 218, 136)\">\r\n                <div style=\"text-align: left;\">\r\n                  产品信息\r\n                </div>\r\n                <form :model=\"detail\" size=\"mini\" label-width=\"50px\">\r\n                  <el-row>\r\n                    <el-col :span='11'>\r\n                      <el-form-item label=\"名称:\" prop=\"name\">\r\n                        <el-input prefix-icon=\"el-icon-edit\" v-model=\"detail.name\" size=\"mini\" style=\"width: 200px\"\r\n                          @focus='showMaterial' placeholder=\"产品名称。。。\"></el-input>\r\n                      </el-form-item>\r\n                    </el-col>\r\n                    <el-col :span='11'>\r\n                      <el-form-item label=\"规格:\" prop=\"specs\">\r\n                        <el-input prefix-icon=\"el-icon-edit\" :disabled=\"true\" v-model=\"detail.specs\" size=\"mini\"\r\n                          style=\"width: 200px\" placeholder=\"规格。。\"></el-input>\r\n                      </el-form-item>\r\n                    </el-col>\r\n                  </el-row>\r\n                  <el-row>\r\n                    <el-col :span='11'>\r\n                      <el-form-item label=\"型号:\" prop=\"proNo\">\r\n                        <el-input prefix-icon=\"el-icon-edit\" v-model=\"detail.proNo\" size=\"mini\" style=\"width: 200px\"\r\n                          placeholder=\"型号\"></el-input>\r\n                      </el-form-item>\r\n                    </el-col>\r\n                    <el-col :span='11'>\r\n                      <el-form-item label=\"标记:\" prop=\"stamp\">\r\n                        <el-input prefix-icon=\"el-icon-edit\" v-model=\"detail.stamp\" size=\"mini\" style=\"width: 200px\"\r\n                          placeholder=\"标记\"></el-input>\r\n                      </el-form-item>\r\n                    </el-col>\r\n                  </el-row>\r\n                  <el-row>\r\n                    <el-col :span='11'>\r\n                      <el-form-item label=\"数量:\" prop=\"quantity\">\r\n                        <el-input type='number' placeholder=\"原料数量\" size=\"mini\" prefix-icon=\"el-icon-edit\"\r\n                          v-model=\"detail.quantity\" @change='setEndNumber' style=\"width: 200px;background: #fff;\">\r\n  \r\n                        </el-input>\r\n                      </el-form-item>\r\n                    </el-col>\r\n                    <el-col :span='11'>\r\n                      <el-form-item label=\"备注:\" prop=\"notes\">\r\n                        <el-input prefix-icon=\"el-icon-edit\" v-model=\"detail.notes\" size=\"mini\" style=\"width: 200px\"\r\n                          type='textarea' placeholder=\"备注。。。\"></el-input>\r\n                      </el-form-item>\r\n                    </el-col>\r\n                  </el-row>\r\n                </form>\r\n                <div>\r\n                </div>\r\n                <div style=\"text-align: justify;\">\r\n                  ***查看最近一次下发的销售单信息***\r\n                  <el-button type=\"success\" icon=\"el-icon-arrow-down\" @click='showCurrentNo'\r\n                    style=\"padding: 5px; margin:0;\" circle></el-button>\r\n                  <div v-if='isprarent'>\r\n                    <el-form label-position=\"left\" inline :model=\"lastPlanDetail\">\r\n                      <el-form-item label=\"产品编码:\" v-if='lastPlanDetail.startNo'>\r\n                        <span>{{ lastPlanDetail.startNo}}-</span><span>{{ lastPlanDetail.endNo }} ;</span>\r\n                        <el-button type=\"success\" icon=\"el-icon-refresh\" @click=\"changeNO\" style=\"padding: 5px; margin:0;\"\r\n                          circle></el-button>\r\n                      </el-form-item>\r\n                      <span v-else>暂无数据</span>\r\n                      <el-button type=\"success\" icon=\"el-icon-refresh\" @click=\"changeNO\" style=\"padding: 5px; margin:0;\"\r\n                        circle></el-button>\r\n                    </el-form>\r\n                  </div>\r\n                </div>\r\n                <!-- 编号信息 -->\r\n                <div style=\"background-color:bisque\">\r\n                  <div style=\"text-align: left;display: flex;justify-content: space-between;\">\r\n                    编号 <el-button type=\"primary\" size=\"mini\" @click=\"serialNumberAdd()\">新增\r\n                    </el-button>\r\n                  </div>\r\n                  <div v-for='(serialNumber,index) in marketPlanSerialNumber'>\r\n                    <el-row :gutter=\"5\" class=\"e-rows\">\r\n                      <el-col :span=\"7\">\r\n                        <el-form-item label=\"编码:\">\r\n                          <el-input prefix-icon=\"el-icon-edit\" v-model=\"serialNumber.startNo\" size=\"mini\"\r\n                            placeholder=\"起始编号...\"></el-input>\r\n                        </el-form-item>\r\n                      </el-col>\r\n                      <el-col :span=\"1\"><span>--</span> </el-col>\r\n                      <el-col :span=\"4\">\r\n                        <el-input prefix-icon=\"el-icon-edit\" v-model=\"serialNumber.endNo\" size=\"mini\" placeholder=\"结束编号\">\r\n                        </el-input>\r\n                      </el-col>\r\n                      <el-col :span=\"5\">\r\n                        <el-input prefix-icon=\"el-icon-edit\" v-model=\"serialNumber.note\" size=\"mini\" type='text'\r\n                          placeholder=\"编码备注 。。。\"></el-input>\r\n                      </el-col>\r\n                      <el-col :span=\"3\">\r\n                        <el-tooltip effect=\"light\" content=\"删除\" placement=\"right\">\r\n                          <el-button type=\"danger\" icon=\"el-icon-delete\" style=\"padding: 5px; margin:0;\"\r\n                            @click=\"deletSerialNo(index)\" circle></el-button>\r\n                        </el-tooltip>\r\n                      </el-col>\r\n                    </el-row>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div style=\"text-align:right;\">\r\n                <el-button type=\"primary\" size=\"mini\" @click=\"addBox\">添加</el-button>\r\n              </div>\r\n              <el-table :data=\"marketPlanDetails\" border height=\"200\" style=\"width: 100%;\">\r\n                <el-table-column prop=\"sid\" align=\"left\" label=\"序号\" width=\"100\">\r\n                </el-table-column>\r\n                <el-table-column prop=\"clientName\" align=\"left\" label=\"客户名\" width=\"100\">\r\n                </el-table-column>\r\n                <el-table-column prop=\"abbrName\" align=\"left\" label=\"客户简称\" width=\"100\">\r\n                </el-table-column>\r\n                <el-table-column prop=\"name\" align=\"left\" label=\"产品名称\" width=\"100\">\r\n                </el-table-column>\r\n  \r\n  \r\n                <el-table-column align=\"left\" label=\"数量\" width=\"80\">\r\n                  <template slot-scope=\"scope\">{{ scope.row.quantity}}枚</template>\r\n                </el-table-column>\r\n                <el-table-column prop=\"specs\" align=\"left\" label=\"规格\" width=\"120\">\r\n                </el-table-column>\r\n                <el-table-column prop=\"proNo\" align=\"left\" label=\"型号\" width=\"120\">\r\n                </el-table-column>\r\n                <el-table-column prop=\"name\" align=\"left\" label=\"编码规则\" width=\"100\">\r\n                  <template slot-scope=\"scope\">\r\n                    <el-popover trigger=\"hover\" placement=\"top\">\r\n                      <div v-for=\"(serial,index) in  scope.row.marketPlanSerialNumber\">\r\n                        <p>编号: {{ serial.startNo}}- {{ serial.endNo}} ;备注: {{ serial.note}} </p>\r\n                      </div>\r\n  \r\n                      <div slot=\"reference\" class=\"name-wrapper\">\r\n                        <el-tag size=\"medium\">编码</el-tag>\r\n                      </div>\r\n                    </el-popover>\r\n                  </template>\r\n                </el-table-column>\r\n  \r\n                <el-table-column prop=\"notes\" align=\"left\" label=\"备注\" width=\"120\">\r\n                </el-table-column>\r\n                <el-table-column align=\"left\" label=\"操作\" width=\"195\">\r\n                  <template slot-scope=\"scope\">\r\n                    <el-button @click=\"editeDetail(scope.$index,scope.row)\" style=\"padding: 3px 4px 3px 4px;margin: 2px\"\r\n                      size=\"mini\">编辑\r\n                    </el-button>\r\n                    <el-button type=\"danger\" style=\"padding: 3px 4px 3px 4px;margin: 2px\" size=\"mini\"\r\n                      @click=\"deleteDetail(scope.$index,scope.row)\">删除\r\n                    </el-button>\r\n                  </template>\r\n                </el-table-column>\r\n              </el-table>\r\n            </div>\r\n          </el-form>\r\n        </div>\r\n        <div slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"dialogFormVisible=false\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"add('addEmpForm')\">确 定</el-button>\r\n        </div>\r\n      </el-dialog>\r\n  \r\n      <el-dialog v-dialogDrag :title=\"dialogMaterialTitle\" style=\"padding: 0px;\" :close-on-click-modal=\"false\"\r\n        :visible.sync=\"dialogMaterialVisible\" @close=\"cancelchoose\" width=\"480px\">\r\n        <div style=\"width: 100% \" v-if=\"dialogMaterialVisible\">\r\n          <div style=\"padding: 0px;display:flex;justify-content:space-between;align-items: center\">\r\n            <!-- 原材料的搜索   -->\r\n            <div style=\"display: inline\">\r\n              <el-input placeholder=\"通过名称搜索,记得回车哦...\" clearable @change=\"keywordsMaterialChange\"\r\n                style=\"width: 300px;margin: 0px;padding: 0px;\" size=\"mini\" @keyup.enter.native=\"searchMaterialData\"\r\n                prefix-icon=\"el-icon-search\" v-model=\"keyMaterialwords\">\r\n              </el-input>\r\n              <el-button type=\"primary\" size=\"mini\" style=\"margin-left: 5px\" icon=\"el-icon-search\"\r\n                @click=\"searchMaterialData\">搜索\r\n              </el-button>\r\n            </div>\r\n          </div>\r\n          <!-- 原材料表 -->\r\n          <el-table :data=\"materialList\" border style=\"width: 100%\" @row-click=\"showRow\">\r\n            <el-table-column align=\"center\" fixed label=\"当前\" width=\"80\">\r\n              <template slot-scope=\"scope\">\r\n                <el-radio :label=\"scope.$index\" v-model='selectedM'>&nbsp;</el-radio>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"producteName\" align=\"left\" fixed label=\"名称\" width=\"120\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"specification\" align=\"left\" fixed label=\"规格\" width=\"120\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"proType\" align=\"left\" fixed label=\"型号\" width=\"120\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"color\" align=\"left\" fixed label=\"颜色\" width=\"120\">\r\n            </el-table-column>\r\n          </el-table>\r\n          <div style=\"display: flex;justify-content: flex-end;margin: 2px\">\r\n            <el-pagination background :page-size=\"10\" :pager-count=\"11\" :current-page=\"currentMaterialPage\"\r\n              @current-change=\"currentMaterialChange\" layout=\"prev, pager, next\" :total=\"totalMaterialCount\">\r\n            </el-pagination>\r\n          </div>\r\n        </div>\r\n        <div slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"dialogMaterialVisible=false\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"chooseMaterial()\">确 定</el-button>\r\n        </div>\r\n      </el-dialog>\r\n      <el-table :data=\"plans\" border style=\"width: 100%\">\r\n        <el-table-column prop=\"marketPlanNo\" align=\"left\" label=\"编号\" width=\"150\">\r\n        </el-table-column>\r\n        <el-table-column width=\"100\" align=\"left\" label=\"下单时间\">\r\n          <template slot-scope=\"scope\">{{ scope.row.createDate | formatDate}}</template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"status\" width=\"80\" align=\"left\" :formatter=\"formatStatus\" label=\"状态\">\r\n        </el-table-column>\r\n        <el-table-column align=\"left\" label=\"操作\" width=\"195\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button @click=\"showEditEmpView(scope.$index,scope.row)\" style=\"padding: 3px 4px 3px 4px;margin: 2px\"\r\n              size=\"mini\">编辑\r\n            </el-button>\r\n            <el-button type=\"danger\" style=\"padding: 3px 4px 3px 4px;margin: 2px\" size=\"mini\"\r\n              @click=\"deleteData(scope.row)\">删除\r\n            </el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <div style=\"display: flex;justify-content: flex-end;margin: 2px\">\r\n        <el-pagination background :page-size=\"10\" :pager-count=\"11\" :current-page=\"currentPage\"\r\n          @current-change=\"currentChange\" layout=\"prev, pager, next\" :total=\"totalCount\">\r\n        </el-pagination>\r\n      </div>\r\n    </div>\r\n  \r\n  </template>\r\n  <script>\r\n    import {\r\n      Message\r\n    } from 'element-ui'\r\n    export default {\r\n      data() {\r\n        return {\r\n          lastPlanDetail: {\r\n            startNo: 'J00000001',\r\n            endNo: \"J00000100\"\r\n          },\r\n          lastPlanmarketPlanDetails: [{\r\n            startNo: 'J00000001',\r\n            endNo: \"J00000100\"\r\n          }, {\r\n            startNo: 'K00000001',\r\n            endNo: \"K00000100\"\r\n          }],\r\n          // 月份使用？\r\n          pickerOptions2: {\r\n            shortcuts: [{\r\n              text: '最近一周',\r\n              onClick(picker) {\r\n                const end = new Date();\r\n                const start = new Date();\r\n                start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\r\n                picker.$emit('pick', [start, end]);\r\n              }\r\n            }, {\r\n              text: '最近一个月',\r\n              onClick(picker) {\r\n                const end = new Date();\r\n                const start = new Date();\r\n                start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\r\n                picker.$emit('pick', [start, end]);\r\n              }\r\n            }, {\r\n              text: '最近三个月',\r\n              onClick(picker) {\r\n                const end = new Date();\r\n                const start = new Date();\r\n                start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\r\n                picker.$emit('pick', [start, end]);\r\n              }\r\n            }]\r\n          },\r\n          value4: [new Date(2000, 10, 10, 10, 10), new Date(2000, 10, 11, 10, 10)],\r\n          value5: '',\r\n          //***********************************________*******************************\r\n          keywords: '',\r\n          tableLoading: false,\r\n          advanceSearchViewVisible: false,\r\n          rules: {\r\n            // note: [{required: true, message: '必填:备注', trigger: 'blur'}],\r\n            // name: [{required: true, message: '必填:名称', trigger: 'blur'}],\r\n            // quantity: [{required: true, message: '必填:数量', trigger: 'blur'}],\r\n            // unitId: [{required: true, message: '必选:单位', trigger: 'blur'}],\r\n          },\r\n          types: 2,\r\n          midProduct: [],\r\n          plans: [],\r\n          clients: [],\r\n          units: [],\r\n          dialogTitle: '',\r\n          currentPage: 1,\r\n          totalCount: -1,\r\n          // 原材料\r\n          totalMaterialCount: -1,\r\n          keyMaterialwords: '',\r\n          currentMaterialPage: 1,\r\n          plan: {\r\n            materialType: '',\r\n            notes: '',\r\n            serialNumber: '',\r\n            clientName: ''\r\n          },\r\n          detail: {\r\n            sid: 0,\r\n            id: 0,\r\n            clientId: 0,\r\n            clientName: '',\r\n            abbrName: '',\r\n            quantity: '',\r\n            notes: '',\r\n            name: '',\r\n            proId: '', //产品Id\r\n            specs: \"\", //规格\r\n            stamp: '', //标记\r\n            proNo: '', //型号\r\n            marketPlanSerialNumber: [],\r\n            type: '',\r\n            specifications: ''\r\n          },\r\n          marketPlanSerialNumber: [],\r\n          serialNumber: {\r\n            sid: 1,\r\n            id:0,\r\n            startNo: '',\r\n            endNo: '',\r\n            note: '',\r\n            clientId:0,\r\n            productId:0,\r\n            type: \"new\"\r\n          },\r\n          marketPlanDetails: [],\r\n          dialogFormVisible: false,\r\n          currentRowData: {}, //当前选中行数据\r\n          currentIndex: '', //当前选中行号\r\n          depTextColor: '',\r\n          showOrHidePop: false,\r\n          showHidePop: false,\r\n          defaultProps: {\r\n            label: 'name',\r\n            isLeaf: 'leaf',\r\n            children: 'child'\r\n          },\r\n          maxSid: 0,\r\n          currentDeleteData: [],\r\n          materials: [],\r\n          materialList: [],\r\n          products: [],\r\n          dialogMaterialVisible: false,\r\n          dialogMaterialTitle: '请选择产品',\r\n          selectMaterial: {}, //当前选择的原料\r\n          selectedM: {},\r\n          filterText: '',\r\n          lastPlanDetail: '', //最后一次计划详情;\r\n          crrentSelectShop: {}, //当前选中的公司；\r\n          isCurrentShop: true,\r\n          isprarent: false,\r\n          sugestParentstartNo: '', //..公司\r\n          sugestParentEndNo: '', //公司结束编号\r\n          sugestSelfEndNumbers: '',\r\n          sugestSelfNumbers: '', //仅子公司\r\n          currentParentShop: {},\r\n          currentShop: {},\r\n          lastPlanDetail: {\r\n            startNo: '',\r\n            endNo: '',\r\n          },\r\n          serialNuberDeleted: [], //删除编号集合\r\n          serialNuberUpdate: [], //更新编号集合\r\n          serialNuberList: [], //编号集合\r\n  \r\n        }\r\n      },\r\n      mounted: function () {\r\n        this.initData();\r\n      },\r\n      // watch: {\r\n      //   filterText(val) {\r\n      //     this.$refs.tree2.filter(val);\r\n      //   }\r\n      // },\r\n      methods: {\r\n        // 编号***********\r\n        serialNumberAdd() {\r\n          var sid = 0;\r\n          if (this.marketPlanSerialNumber.length) {\r\n            var maxId = 0;\r\n            //找出最大的Id+1\r\n            this.marketPlanSerialNumber.forEach(function (v, i, arr) {\r\n              maxId = v.sid > maxId ? v.sid : maxId;\r\n            })\r\n            sid = maxId + 1;\r\n          } else {\r\n            sid = 1;\r\n          }\r\n          this.marketPlanSerialNumber.push({\r\n            sid: sid,\r\n            id:0,\r\n            startNo: '',\r\n            endNo: '',\r\n            clientId:0,\r\n            productId:0,\r\n            type: \"new\"\r\n          });\r\n        },\r\n        deletSerialNo(index) {\r\n          var deletData = this.marketPlanSerialNumber.splice(index, 1);\r\n          var conditions = deletData[0].endNo == '' ||\r\n            deletData[0].startNo == '' ||\r\n            deletData[0].type == 'new';\r\n          if (!conditions) {\r\n            deletData[0].type = 'delete';\r\n            this.serialNuberDeleted.push(deletData[0])\r\n          }\r\n          console.log(deletData);\r\n        },\r\n        // 编号***********\r\n        filterNode(value, data) {\r\n          if (!value) return true;\r\n          return data.label.indexOf(value) !== -1;\r\n        },\r\n        showRow(row) {\r\n          this.selectedM = this.materialList.indexOf(row);\r\n          this.selectMaterial = row;\r\n          console.log(this.selectMaterial);\r\n        },\r\n        showMaterial() {\r\n          this.loadMaterial();\r\n  \r\n        },\r\n        chooseMaterial() {\r\n          console.log('选择原料了！')\r\n          // this.selectMaterial\r\n          let vm = this;\r\n  \r\n          if (this.selectMaterial.id > 0) {\r\n            const msg = this.selectMaterial.producteName + \"\" + this.selectMaterial.specification + \";\"\r\n            this.$confirm('您当前选择了' + msg + \"确认选择该产品吗？\", '提示', {\r\n              confirmButtonText: '确定',\r\n              cancelButtonText: '取消',\r\n              type: 'warning'\r\n            }).then(() => {\r\n              vm.setDetailData(vm);\r\n            }).catch(() => {\r\n              this.$message({\r\n                type: 'info',\r\n                message: '已取消'\r\n              });\r\n            });\r\n          } else {\r\n            this.$message({\r\n              type: 'info',\r\n              message: '请选择原材料！'\r\n            })\r\n          }\r\n  \r\n        },\r\n        setDetailData(that) {\r\n          var v = that.selectMaterial;\r\n          console.log(v);\r\n  \r\n          that.detail.name = v.producteName;\r\n          that.detail.proId = v.id; //选取的物料Id\r\n          that.detail.specs = v.specification;\r\n          that.detail.proNo = v.proType\r\n          that.getCurrentPlans();\r\n          this.dialogMaterialVisible = false;\r\n        },\r\n        cancelchoose: function () {\r\n          console.log('选择框关闭')\r\n          this.selectMaterial = {};\r\n          this.selectedM = {};\r\n        },\r\n        formatStatus: function (row, column) {\r\n          return row.materialType == 1 ? '已确认' : '未确认';\r\n        },\r\n        //materials: [[\"手套\", 1, 38]]\r\n        selectType(e, v, icon) {\r\n          let that = this;\r\n          console.log('changne'); //products  materials\r\n          this.types = e;\r\n          if (e == 2) {\r\n            this.midProduct = [];\r\n            this.midProduct = this.materials.concat(this.midProduct);\r\n            this.emptyDetail()\r\n          } else {\r\n            this.midProduct = [];\r\n            this.midProduct = this.products.concat(this.midProduct);\r\n            this.emptyDetail()\r\n          }\r\n        },\r\n        matterSelect(e) {\r\n          console.log(e);\r\n          let that = this;\r\n          this.midProduct.forEach(function (v, i, arr) {\r\n            if (v.id == e) {\r\n              that.detail.unitId = v.unitId;\r\n              that.detail.unitName = v.unitName;\r\n              that.detail.name = v.name;\r\n              that.detail.materialId = v.id; //选取的物料Id\r\n              that.detail.specifications = v.specs;\r\n  \r\n            }\r\n          })\r\n        },\r\n        addBox() {\r\n          let that = this;\r\n          console.log(\"asdfadsfasdfasd\");\r\n          if (this.detail.quantity == '' || this.detail.quantity == undefined) {\r\n            Message('请输入数量');\r\n            return false;\r\n          }\r\n          if (this.detail.name == '' || this.detail.name == undefined) {\r\n            Message('请选择产品！');\r\n            return false;\r\n          }\r\n          if (this.detail.sid == \"\") {\r\n            if (this.marketPlanDetails.length > 0) {\r\n              //this.types 选择的类型原料/半成品\r\n              //有之前相同的。。增加数量\r\n              var flag = false;\r\n              this.marketPlanDetails.forEach(function (v, i, arr) {\r\n                if (v.materialId == that.detail.materialId && v.mtype == that.types) {\r\n                  flag = true;\r\n                  v.quantity = parseFloat(that.detail.quantity) + parseFloat(v.quantity);\r\n                }\r\n              });\r\n              if (!flag) {\r\n                this.maxSid += 1;\r\n                this.detail.sid = this.maxSid;\r\n                this.detail.type = 'new'\r\n                // this.detail.mtype = this.types;\r\n                this.marketPlanDetails.push(this.detail);\r\n              }\r\n  \r\n            } else {\r\n              this.detail.sid = 1;\r\n              this.detail.type = 'new'\r\n              this.detail.mtype = this.types;\r\n              this.maxSid += 1;\r\n              this.marketPlanDetails.push(this.detail);\r\n            };\r\n          } else {\r\n            if (this.marketPlanDetails.length) {\r\n              for (let index = 0, n = this.marketPlanDetails.length; index < n; index++) {\r\n                var e = this.marketPlanDetails[index];\r\n                if (e.type === 'odd') {\r\n                  this.detail.type = 'update'\r\n                  if (e.sid == this.detail.sid) {\r\n                    this.marketPlanDetails.splice(index, 1);\r\n                    this.marketPlanDetails.push(this.detail);\r\n                  }\r\n                } else {\r\n                  if (e.sid == this.detail.sid) {\r\n                    this.marketPlanDetails.splice(index, 1);\r\n                    this.marketPlanDetails.push(this.detail);\r\n                  }\r\n                }\r\n  \r\n              }\r\n            }\r\n          }\r\n          this.detail.marketPlanSerialNumber = that.marketPlanSerialNumber;\r\n  \r\n          this.clearSerialNumbers();\r\n          // console.log( this.marketPlanDetails);\r\n          this.emptyDetail();\r\n        },\r\n        //清理编号和查询结果\r\n        clearSerialNumbers() {\r\n          let that = this;\r\n          that.marketPlanSerialNumber = [];\r\n          that.marketPlanSerialNumber.push({\r\n            sid: 1,\r\n            id:0,\r\n            startNo: '',\r\n            endNo: '',\r\n            type: 'new',\r\n            note: ''\r\n          });\r\n        },\r\n  \r\n        editeDetail(index, row) {\r\n          this.detail = row;\r\n        },\r\n        deleteDetail(index, row) {\r\n          console.log('delete');\r\n          var deletes = this.marketPlanDetails.splice(index, 1);\r\n          if (deletes[0].type === \"odd\") {\r\n            deletes[0].type = 'delete'\r\n            this.currentDeleteData.push(deletes[0]);\r\n          }\r\n          this.maxSid -= 1;\r\n        },\r\n        emptyDetail() {\r\n          this.detail = {\r\n            sid: 0,\r\n            id: 0,\r\n            name: '',\r\n            quantity: '',\r\n            unitId: '',\r\n            notes: '',\r\n            unitName: '',\r\n            specifications: '',\r\n            type: '',\r\n          };\r\n        },\r\n        initData() {\r\n          var _this = this;\r\n          _this.loadData();\r\n          this.getRequest(\"/marketingplan/basedata\").then(resp => {\r\n            if (resp && resp.status == 200) {\r\n              var data = resp.data;\r\n              // _this.units = data.root.units;\r\n              // _this.clients = data.root.clients;\r\n              var ma = data.root.clients;\r\n              var mater = [];\r\n              ma.forEach(function (v, i, arr) {\r\n                var name = v[0],\r\n                  id = v[1],\r\n                  parentClientId = v[2];\r\n                mater.push({\r\n                  name: name,\r\n                  id: id,\r\n                  parentClientId: parentClientId,\r\n                  parentName: v[3],\r\n                  address: v[4],\r\n                  phone: v[5],\r\n                  abbreviation: v[6],\r\n  \r\n                })\r\n              });\r\n              _this.clients = mater;\r\n              _this.midProduct = [];\r\n              _this.midProduct = _this.materials.concat(_this.midProduct);\r\n              var pro = [];\r\n              var p = data.root.products;\r\n              p.forEach(function (v, i, arr) {\r\n                pro.push({\r\n                  id: v[0],\r\n                  producteName: v[1],\r\n                  specification: v[2],\r\n                  proType: v[3],\r\n                  mark: v[4],\r\n                  color: v[5],\r\n                })\r\n              });\r\n              _this.products = pro;\r\n            }\r\n          })\r\n  \r\n        },\r\n        keywordsChange(val) {\r\n          if (val == '') {\r\n            this.loadData();\r\n          }\r\n        },\r\n        keywordsMaterialChange(val) {\r\n          if (val == '') {\r\n            this.loadMaterial();\r\n          }\r\n        },\r\n        handleNodeClick(data) {\r\n          let that = this;\r\n          that.tableLoading = true;\r\n          this.crrentSelectShop = data;\r\n          this.detail.clientId = data.id;\r\n          this.detail.clientName = data.name;\r\n          this.detail.abbrName = data.abbreviation;\r\n          this.showOrHidePop = false;\r\n          this.depTextColor = '#606266';\r\n          this.getCurrentPlans()\r\n        },\r\n        showCurrentNo() {\r\n  \r\n          if (this.isprarent) {\r\n            this.isprarent = false;\r\n          } else {\r\n            this.isprarent = true;\r\n          }\r\n        },\r\n        // 切换编号;\r\n        changeNO() {\r\n          let that = this;\r\n          if (that.isCurrentShop) {\r\n            that.lastPlanDetail = that.currentShop;\r\n            that.isCurrentShop = false;\r\n          } else {\r\n            that.lastPlanDetail = that.currentParentShop;\r\n            that.isCurrentShop = true;\r\n          }\r\n        },\r\n        getCurrentPlans() {\r\n          let that = this;\r\n          if (this.crrentSelectShop.id == undefined) {\r\n            this.$message({\r\n              type: 'info',\r\n              message: '请选择公司'\r\n            })\r\n          } else if (this.detail.proId == undefined || this.detail.proId == '') {\r\n            this.$message({\r\n              type: 'info',\r\n              message: '请选择产品'\r\n            })\r\n          } else {\r\n            this.getRequest(\"/marketingplan/getPlanDetails?clientId=\" + this.crrentSelectShop.id + \"&productId=\" + this\r\n              .detail.proId).then(resp => {\r\n              that.tableLoading = false;\r\n              if (resp && resp.status == 200) {\r\n                var data = resp.data;\r\n                that.currentParentShop = data.root.parent;\r\n                if (that.currentParentShop.length) {\r\n                  var n = that.currentParentShop.length - 1;\r\n                  that.currentParentShop = that.currentParentShop[n]\r\n                  var lastMaxNumber = that.currentParentShop[n].endNo;\r\n                  that.sugestParentstartNo = that.sugestStartNo(lastMaxNumber, 1);\r\n                } else { //设置为起始的000001;\r\n                  that.sugestParentstartNo = '00000001';\r\n                  that.currentParentShop = {};\r\n                }\r\n                if (that.detail.quantity != '') {\r\n                  that.sugestParentEndNo = that.sugestStartNo(that.currentParentShop[n].endNo, parseInt(that.detail\r\n                    .quantity) + 1)\r\n                }\r\n                that.setStartSerialNo(that.sugestParentstartNo, that.sugestParentEndNo.endNo, \"parent\");\r\n                that.lastPlanDetail = that.currentParentShop;\r\n                that.currentShop = data.root.self;\r\n  \r\n                if (that.currentShop.length) {\r\n  \r\n                  var m = that.currentShop.length - 1;\r\n                  that.currentShop = that.currentShop[m];\r\n                  var lastMisNumber = that.currentShop[m].endNo;\r\n                  that.sugestSelfNumbers = that.sugestStartNo(lastMisNumber, 1);\r\n                } else { //设置为起始的000001;\r\n                  that.sugestSelfNumbers = \"00000001\"\r\n                  that.currentShop = {};\r\n                }\r\n              }\r\n            })\r\n          }\r\n        },\r\n        setEndNumber: function (e) {\r\n          console.log(e) + \"********************8\";\r\n          // e.target.value\r\n          let that = this;\r\n          if (that.isCurrentShop) {\r\n            that.lastPlanDetail = that.currentShop;\r\n            if (that.currentShop.length) {\r\n  \r\n              var m = that.currentShop.length - 1;\r\n              that.sugestSelfEndNumbers = that.sugestStartNo(that.currentShop[m].endNo, parseInt(e) + 1);\r\n              this.marketPlanSerialNumber[0].startNo = that.sugestSelfNumbers;\r\n              this.marketPlanSerialNumber[0].endNo = that.sugestSelfEndNumbers;\r\n              this.marketPlanSerialNumber[0].note = '';\r\n              this.marketPlanSerialNumber[0].clientId = this.crrentSelectShop.id;\r\n              this.marketPlanSerialNumber[0].productId =this.detail.proId;\r\n  \r\n  \r\n             \r\n            } else {\r\n              var baseData = that.sugestSelfNumbers\r\n              that.setCurrentEndData(baseData, e);\r\n            }\r\n          } else {\r\n            that.lastPlanDetail = that.currentParentShop;\r\n            if (that.currentParentShop.length) {\r\n              var n = that.currentParentShop.length - 1;\r\n              that.sugestParentEndNo = that.sugestStartNo(that.currentParentShop[n].endNo, parseInt(e) + 1);\r\n              this.marketPlanSerialNumber[0].startNo = that.sugestParentstartNo;\r\n              this.marketPlanSerialNumber[0].endNo = that.sugestParentEndNo;\r\n              this.marketPlanSerialNumber[0].note = '';\r\n              this.marketPlanSerialNumber[0].clientId = this.crrentSelectShop.id;\r\n              this.marketPlanSerialNumber[0].productId =this.detail.proId;\r\n            } else {\r\n              var baseData = that.currentParentShop\r\n              that.setCurrentEndData(baseData, e);\r\n            }\r\n          }\r\n        },\r\n        setCurrentEndData(baseData, e) {\r\n          var baseLen = baseData.length;\r\n          var currentData = parseInt(baseData) + parseInt(e);\r\n          var currentDataLen = currentData.toString().length;\r\n          var zerolen = baseLen - currentDataLen;\r\n          if (zerolen) {\r\n            for (let i = 0; i < zerolen; i++) {\r\n              currentData = \"0\" + currentData;\r\n            }\r\n          }\r\n  \r\n          this.marketPlanSerialNumber[0].endNo = currentData;\r\n        },\r\n  \r\n        //生成起始编号:\r\n        sugestStartNo(str, nu) {\r\n          let that = this;\r\n          // var str = \"ox002VtII0000UUY\";\r\n          var getNum = function (Str, isFilter) {\r\n            isFilter = isFilter || false;\r\n            if (typeof Str === \"string\") {\r\n              // var arr = Str.match(/(0\\d{2,})|([1-9]\\d+)/g);\r\n              //\"/[1-9]\\d{1,}/g\",表示匹配1到9,一位数以上的数字(不包括一位数).\r\n              //\"/\\d{2,}/g\",  表示匹配至少二个数字至多无穷位数字\r\n              var arr = Str.match(isFilter ? /[0-9]\\d{1,}/g : /\\d{1,}/g);\r\n              console.log(arr);\r\n              return arr.map(function (item) {\r\n                //转换为整数，\r\n                //但是提取出来的数字，如果是连续的多个0会被改为一个0，如000---->0，\r\n                //或者0开头的连续非零数字，比如015，会被改为15，这是一个坑\r\n                // return parseInt(item);\r\n                //字符串，连续的多个0也会存在，不会被去掉\r\n                return item;\r\n              });\r\n            } else {\r\n              return [];\r\n            }\r\n          };\r\n          var startIndex = str.indexOf(getNum(str)[0]);\r\n          var startStr = str.substr(0, startIndex);\r\n          var endStr = str.substr(startIndex + getNum(str)[0].length, str.length - 1);\r\n          //中间数字的长度;\r\n          var noLength = getNum(str)[0].length;\r\n          var currentNumber = parseInt(getNum(str)[0]) + nu;\r\n          var cNo = currentNumber.toString().length;\r\n          var subNo = (currentNumber - cNo);\r\n          if (subNo) {\r\n            // 位数不够的补零\r\n            for (var i = 0; i < subNo; i++) {\r\n              currentNumber += \"0\";\r\n            }\r\n          }\r\n          return startStr + currentNumber + endStr;\r\n  \r\n        },\r\n        // 设置起始编号:type ;self  parent\r\n        setStartSerialNo(sugestNo, endNo, type) {\r\n          if (this.marketPlanSerialNumber.length) {\r\n            this.marketPlanSerialNumber[0].startNo = sugestNo;\r\n            this.marketPlanSerialNumber[0].endNo = endNo;\r\n            this.marketPlanSerialNumber[0].note = '';\r\n          }\r\n  \r\n        },\r\n  \r\n        clearChoose() {\r\n          this.detail.clientId = 0;\r\n          this.detail.clientName = \"\";\r\n        },\r\n        showDepTree() {\r\n          this.showHidePop = !this.showHidePop;\r\n        },\r\n        selectChange(e) {\r\n          let that = this;\r\n          console.log(e);\r\n          if (that.units) {\r\n            that.units.forEach(function (v, arr) {\r\n              if (v.id == e) {\r\n                console.log(v.id);\r\n                that.detail.unitName = v.name;\r\n  \r\n              }\r\n            })\r\n          }\r\n  \r\n        },\r\n        currentChange(currentChange) {\r\n          this.currentPage = currentChange;\r\n          console.log(this.currentPage);\r\n          this.loadData();\r\n        },\r\n        currentMaterialChange(currentChange) {\r\n          this.currentMaterialPage = currentChange;\r\n          this.loadMaterial();\r\n        },\r\n        addAndFlushData() {\r\n          this.dialogTitle = \"郑铁公司销售单\";\r\n          let that = this;\r\n          // this.getRequest(\"/marketingplan/getSerialNumber\").then(resp => {\r\n          //   that.tableLoading = false;\r\n          //   if (resp && resp.status == 200) {\r\n          //     var data = resp.data;\r\n          //     that.plan.serialNumber = data.root.serialNumber;\r\n          //   }\r\n          // })\r\n          that.marketPlanSerialNumber = [];\r\n  \r\n          that.marketPlanSerialNumber.push(this.serialNumber);\r\n  \r\n          that.dialogFormVisible = true;\r\n  \r\n        },\r\n        searchData() {\r\n          this.loadData();\r\n        },\r\n        searchMaterialData() {\r\n          this.loadMaterial();\r\n        },\r\n        showEditEmpView(index, row) {\r\n          console.log(row)\r\n          var that = this;\r\n          that.dialogTitle = \"编辑信息\";\r\n          that.plan = row;\r\n          that.plan.createDate = row.createDate;\r\n          var currentPlan = _.cloneDeep(row);\r\n          if (currentPlan.detail != undefined) {\r\n            currentPlan.detail.forEach(function (v, i, arr) {\r\n              v.type = 'odd';\r\n              v.sid = i + 1;\r\n            })\r\n            this.marketPlanDetails = currentPlan.detail;\r\n            this.maxSid = currentPlan.detail.length;\r\n          }\r\n          that.dialogFormVisible = true;\r\n        },\r\n        add(addEmpForm) {\r\n          this.dialogFormVisible = true;\r\n          var _this = this;\r\n          var plans = _.cloneDeep(this.plan);\r\n          if (this.marketPlanDetails.length == 0) {\r\n            this.$message({\r\n              type: 'info',\r\n              message: '详情不能为空！'\r\n            });\r\n            return false;\r\n          }\r\n          var cache = [];\r\n          var currentDetail = this.marketPlanDetails.concat(this.currentDeleteData);\r\n          var str = JSON.stringify(currentDetail, function (key, value) {\r\n            if (typeof value === 'object' && value !== null) {\r\n              if (cache.indexOf(value) !== -1) {\r\n                // Circular reference found, discard key\r\n                return;\r\n              }\r\n              // Store value in our collection\r\n              cache.push(value);\r\n            }\r\n            return value;\r\n          });\r\n          cache = null;\r\n          plans.marketPlanDetails = str;\r\n          this.$refs[addEmpForm].validate((valid) => {\r\n            if (valid) {\r\n              // this.plan.buyedDate=new Date(this.plan.buyedDate);\r\n              var flag = this.validateplanNo();\r\n              if (this.plan.id) {\r\n                //更新\r\n                this.tableLoading = true;\r\n                console.log(this.plan);\r\n  \r\n                this.postRequest(\"/marketingplan/update\", plans).then(resp => {\r\n                  _this.tableLoading = false;\r\n                  if (resp && resp.status == 200) {\r\n                    // var data = resp.data;\r\n                    _this.dialogFormVisible = false;\r\n                    _this.loadData();\r\n                    _this.emptyData();\r\n                    _this.emptyDetail();\r\n                    _this.clearSerialNumbers();\r\n  \r\n                  }\r\n                })\r\n              } else {\r\n                //添加\r\n                this.tableLoading = true;\r\n                if (this.plan.clientId == 0 || this.plan.clientId == '') {\r\n                  this.plan.clientId = 0;\r\n                  plans.materialType = 1;\r\n                } else {\r\n                  plans.materialType = 2;\r\n                }\r\n                console.log(plans);\r\n                this.postRequest(\"/marketingplan/add\", plans).then(resp => {\r\n                  _this.tableLoading = false;\r\n                  if (resp && resp.status == 200) {\r\n                    var data = resp.data;\r\n                    _this.dialogFormVisible = false;\r\n                    _this.loadData();\r\n                    _this.emptyData();\r\n                    _this.emptyDetail();\r\n                    _this.clearSerialNumbers();\r\n                  }\r\n                })\r\n              }\r\n            } else {\r\n              return false;\r\n            }\r\n          });\r\n        },\r\n        validateplanNo() {\r\n          var flag = true;\r\n  \r\n          return flag;\r\n        },\r\n        cancelOpt() {\r\n          this.dialogFormVisible = false;\r\n          this.loadData();\r\n          // var index=this.currentIndex;\r\n          // this.plans[index] =this.currentRowData;\r\n          console.log('o(*￣︶￣*)o')\r\n  \r\n        },\r\n        deleteData(row) {\r\n          this.$confirm('此操作将删除该纪录, 是否继续?', '提示', {\r\n            confirmButtonText: '确定',\r\n            cancelButtonText: '取消',\r\n            type: 'warning'\r\n          }).then(() => {\r\n            this.doDelete(row.id);\r\n          }).catch(() => {});\r\n        },\r\n        doDelete(ids) {\r\n          this.tableLoading = true;\r\n          var _this = this;\r\n          this.getRequest(\"/marketingplan/deletmark?id=\" + ids).then(resp => {\r\n            _this.tableLoading = false;\r\n            if (resp && resp.status == 200) {\r\n              var data = resp.data;\r\n              _this.loadData();\r\n            }\r\n          })\r\n        },\r\n        loadData() {\r\n          var _this = this;\r\n          this.tableLoading = true;\r\n          this.getRequest(\"/marketingplan/findbypage?page=\" + this.currentPage + \"&size=10&queryName=\" + this.keywords)\r\n            .then(\r\n              resp => {\r\n                this.tableLoading = false;\r\n                if (resp && resp.status == 200) {\r\n                  var data = resp.data.data;\r\n                  _this.plans = data;\r\n                  _this.totalCount = resp.data.total;\r\n                  _this.emptyData();\r\n                }\r\n              })\r\n        },\r\n        loadMaterial() {\r\n          var _this = this;\r\n          this.tableLoading = true;\r\n          this.getRequest(\"/product/findbypage?page=\" + this.currentMaterialPage + \"&size=10&queryName=\" + this\r\n            .keyMaterialwords).then(resp => {\r\n            this.tableLoading = false;\r\n            if (resp && resp.status == 200) {\r\n              var data = resp.data.data;\r\n              _this.materialList = data;\r\n              _this.totalMaterialCount = resp.data.total;\r\n              _this.dialogMaterialVisible = true;\r\n              // _this.emptyData();\r\n              // 清除选择的行\r\n            }\r\n          })\r\n        },\r\n  \r\n        emptyData() {\r\n          this.marketPlanDetails = [];\r\n          this.plan = {\r\n            materialType: '',\r\n            notes: '',\r\n            serialNumber: '',\r\n            clientId: 0,\r\n            clientName: ''\r\n          }\r\n  \r\n        }\r\n      },\r\n      computed: {\r\n        routes() {\r\n          return this.$store.state.routes\r\n        }\r\n      }\r\n    }\r\n  \r\n  </script>\r\n  <style>\r\n    .el-submenu {\r\n      width: 180px;\r\n      min-width: 175px;\r\n    }\r\n  \r\n    .demo-table-expand {\r\n      font-size: 0;\r\n    }\r\n  \r\n    .demo-table-expand label {\r\n      width: 50px;\r\n      color: #2974df;\r\n    }\r\n  \r\n    .demo-table-expand .el-form-item {\r\n      margin-left: 10px;\r\n      margin-bottom: 0;\r\n      width: auto;\r\n    }\r\n  \r\n  </style>\r\n  \n\n\n// WEBPACK FOOTER //\n// src/components/sale/ProductionPlan.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticStyle:{\"padding\":\"0px\",\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"center\"}},[_c('div',{staticStyle:{\"display\":\"inline\"}},[_c('el-date-picker',{attrs:{\"type\":\"datetimerange\",\"picker-options\":_vm.pickerOptions2,\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\",\"align\":\"right\"},model:{value:(_vm.value5),callback:function ($$v) {_vm.value5=$$v},expression:\"value5\"}}),_vm._v(\" \"),_c('el-button',{staticStyle:{\"margin-left\":\"5px\"},attrs:{\"type\":\"primary\",\"size\":\"mini\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.searchData}},[_vm._v(\"搜索\\n      \")])],1),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-left\":\"5px\",\"margin-right\":\"20px\",\"display\":\"inline\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.addAndFlushData}},[_vm._v(\"\\n        添加\\n      \")])],1)]),_vm._v(\" \"),_c('el-dialog',{directives:[{name:\"dialogDrag\",rawName:\"v-dialogDrag\"}],staticStyle:{\"padding\":\"0px\"},attrs:{\"title\":_vm.dialogTitle,\"close-on-click-modal\":false,\"visible\":_vm.dialogFormVisible,\"width\":\"750px\"},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event},\"close\":_vm.cancelOpt}},[(_vm.dialogFormVisible)?_c('div',{staticStyle:{\"width\":\"100%\"}},[_c('el-form',{ref:\"addEmpForm\",attrs:{\"model\":_vm.plan,\"rules\":_vm.rules,\"size\":\"mini\",\"label-width\":\"90px\"}},[_c('div',{staticStyle:{\"border\":\"1px solid #eeeeee\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"备注:\",\"prop\":\"notes\"}},[_c('el-input',{staticStyle:{\"width\":\"200px\"},attrs:{\"prefix-icon\":\"el-icon-edit\",\"size\":\"mini\",\"type\":\"textarea\",\"placeholder\":\"备注。。。\"},model:{value:(_vm.plan.notes),callback:function ($$v) {_vm.$set(_vm.plan, \"notes\", $$v)},expression:\"plan.notes\"}})],1)],1)],1)],1),_vm._v(\" \"),_c('div',{staticStyle:{\"text-align\":\"left\",\"border\":\"1px solid #eeeeee\"}},[_vm._v(\"\\n          销售详情:\\n        \")]),_vm._v(\" \"),_c('div',{staticStyle:{\"border\":\"1px solid #eeeeee\"}},[_c('div',{staticStyle:{\"background-color\":\"bisque\"}},[_c('div',{staticStyle:{\"text-align\":\"left\"}},[_vm._v(\"\\n              客户信息\\n            \")]),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":11}},[_c('el-form-item',{attrs:{\"label\":\"客户:\",\"prop\":\"clientId\"}},[_c('el-popover',{attrs:{\"placement\":\"right\",\"title\":\"客户信息\",\"trigger\":\"hover\"},model:{value:(_vm.showOrHidePop),callback:function ($$v) {_vm.showOrHidePop=$$v},expression:\"showOrHidePop\"}},[_c('el-input',{attrs:{\"placeholder\":\"输入关键字进行过滤\"},model:{value:(_vm.filterText),callback:function ($$v) {_vm.filterText=$$v},expression:\"filterText\"}}),_vm._v(\" \"),_c('el-tree',{attrs:{\"data\":_vm.clients,\"default-expand-all\":false,\"props\":_vm.defaultProps,\"expand-on-click-node\":false},on:{\"node-click\":_vm.handleNodeClick}}),_vm._v(\" \"),_c('div',{ref:\"tree2\",staticStyle:{\"width\":\"200px\",\"height\":\"28px\",\"display\":\"inline-flex\",\"justify-content\":\"space-between\",\"background-color\":\"#fff\",\"font-size\":\"13px\",\"border\":\"1px\",\"border-radius\":\"5px\",\"border-style\":\"solid\",\"padding-left\":\"13px\",\"box-sizing\":\"border-box\",\"border-color\":\"#dcdfe6\",\"cursor\":\"pointer\",\"align-items\":\"center\"},style:({color: _vm.depTextColor}),attrs:{\"slot\":\"reference\",\"filter-node-method\":_vm.filterNode},on:{\"click\":_vm.showDepTree},slot:\"reference\"},[_c('div',[_vm._v(_vm._s(_vm.detail.clientName))]),_vm._v(\" \"),_c('div',{staticClass:\"el-icon-arrow-down\",staticStyle:{\"color\":\"#606266\"},attrs:{\"alt\":\"hehehehe\"},on:{\"click\":_vm.clearChoose}})])],1)],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":11}},[_c('el-form-item',{attrs:{\"label\":\"简称:\",\"prop\":\"abbrName\"}},[_c('el-input',{staticStyle:{\"width\":\"200px\"},attrs:{\"prefix-icon\":\"el-icon-edit\",\"size\":\"mini\",\"placeholder\":\"局简称\"},on:{\"focus\":_vm.showMaterial},model:{value:(_vm.detail.abbrName),callback:function ($$v) {_vm.$set(_vm.detail, \"abbrName\", $$v)},expression:\"detail.abbrName\"}}),_vm._v(\" \"),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"light\",\"content\":\"最近一次订单\",\"placement\":\"top\"}})],1)],1)],1)],1),_vm._v(\" \"),_c('div',{staticStyle:{\"background-color\":\"rgb(175, 218, 136)\"}},[_c('div',{staticStyle:{\"text-align\":\"left\"}},[_vm._v(\"\\n              产品信息\\n            \")]),_vm._v(\" \"),_c('form',{attrs:{\"model\":_vm.detail,\"size\":\"mini\",\"label-width\":\"50px\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":11}},[_c('el-form-item',{attrs:{\"label\":\"名称:\",\"prop\":\"name\"}},[_c('el-input',{staticStyle:{\"width\":\"200px\"},attrs:{\"prefix-icon\":\"el-icon-edit\",\"size\":\"mini\",\"placeholder\":\"产品名称。。。\"},on:{\"focus\":_vm.showMaterial},model:{value:(_vm.detail.name),callback:function ($$v) {_vm.$set(_vm.detail, \"name\", $$v)},expression:\"detail.name\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":11}},[_c('el-form-item',{attrs:{\"label\":\"规格:\",\"prop\":\"specs\"}},[_c('el-input',{staticStyle:{\"width\":\"200px\"},attrs:{\"prefix-icon\":\"el-icon-edit\",\"disabled\":true,\"size\":\"mini\",\"placeholder\":\"规格。。\"},model:{value:(_vm.detail.specs),callback:function ($$v) {_vm.$set(_vm.detail, \"specs\", $$v)},expression:\"detail.specs\"}})],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":11}},[_c('el-form-item',{attrs:{\"label\":\"型号:\",\"prop\":\"proNo\"}},[_c('el-input',{staticStyle:{\"width\":\"200px\"},attrs:{\"prefix-icon\":\"el-icon-edit\",\"size\":\"mini\",\"placeholder\":\"型号\"},model:{value:(_vm.detail.proNo),callback:function ($$v) {_vm.$set(_vm.detail, \"proNo\", $$v)},expression:\"detail.proNo\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":11}},[_c('el-form-item',{attrs:{\"label\":\"标记:\",\"prop\":\"stamp\"}},[_c('el-input',{staticStyle:{\"width\":\"200px\"},attrs:{\"prefix-icon\":\"el-icon-edit\",\"size\":\"mini\",\"placeholder\":\"标记\"},model:{value:(_vm.detail.stamp),callback:function ($$v) {_vm.$set(_vm.detail, \"stamp\", $$v)},expression:\"detail.stamp\"}})],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":11}},[_c('el-form-item',{attrs:{\"label\":\"数量:\",\"prop\":\"quantity\"}},[_c('el-input',{staticStyle:{\"width\":\"200px\",\"background\":\"#fff\"},attrs:{\"type\":\"number\",\"placeholder\":\"原料数量\",\"size\":\"mini\",\"prefix-icon\":\"el-icon-edit\"},on:{\"change\":_vm.setEndNumber},model:{value:(_vm.detail.quantity),callback:function ($$v) {_vm.$set(_vm.detail, \"quantity\", $$v)},expression:\"detail.quantity\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":11}},[_c('el-form-item',{attrs:{\"label\":\"备注:\",\"prop\":\"notes\"}},[_c('el-input',{staticStyle:{\"width\":\"200px\"},attrs:{\"prefix-icon\":\"el-icon-edit\",\"size\":\"mini\",\"type\":\"textarea\",\"placeholder\":\"备注。。。\"},model:{value:(_vm.detail.notes),callback:function ($$v) {_vm.$set(_vm.detail, \"notes\", $$v)},expression:\"detail.notes\"}})],1)],1)],1)],1),_vm._v(\" \"),_c('div'),_vm._v(\" \"),_c('div',{staticStyle:{\"text-align\":\"justify\"}},[_vm._v(\"\\n              ***查看最近一次下发的销售单信息***\\n              \"),_c('el-button',{staticStyle:{\"padding\":\"5px\",\"margin\":\"0\"},attrs:{\"type\":\"success\",\"icon\":\"el-icon-arrow-down\",\"circle\":\"\"},on:{\"click\":_vm.showCurrentNo}}),_vm._v(\" \"),(_vm.isprarent)?_c('div',[_c('el-form',{attrs:{\"label-position\":\"left\",\"inline\":\"\",\"model\":_vm.lastPlanDetail}},[(_vm.lastPlanDetail.startNo)?_c('el-form-item',{attrs:{\"label\":\"产品编码:\"}},[_c('span',[_vm._v(_vm._s(_vm.lastPlanDetail.startNo)+\"-\")]),_c('span',[_vm._v(_vm._s(_vm.lastPlanDetail.endNo)+\" ;\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"padding\":\"5px\",\"margin\":\"0\"},attrs:{\"type\":\"success\",\"icon\":\"el-icon-refresh\",\"circle\":\"\"},on:{\"click\":_vm.changeNO}})],1):_c('span',[_vm._v(\"暂无数据\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"padding\":\"5px\",\"margin\":\"0\"},attrs:{\"type\":\"success\",\"icon\":\"el-icon-refresh\",\"circle\":\"\"},on:{\"click\":_vm.changeNO}})],1)],1):_vm._e()],1),_vm._v(\" \"),_c('div',{staticStyle:{\"background-color\":\"bisque\"}},[_c('div',{staticStyle:{\"text-align\":\"left\",\"display\":\"flex\",\"justify-content\":\"space-between\"}},[_vm._v(\"\\n                编号 \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.serialNumberAdd()}}},[_vm._v(\"新增\\n                \")])],1),_vm._v(\" \"),_vm._l((_vm.marketPlanSerialNumber),function(serialNumber,index){return _c('div',[_c('el-row',{staticClass:\"e-rows\",attrs:{\"gutter\":5}},[_c('el-col',{attrs:{\"span\":7}},[_c('el-form-item',{attrs:{\"label\":\"编码:\"}},[_c('el-input',{attrs:{\"prefix-icon\":\"el-icon-edit\",\"size\":\"mini\",\"placeholder\":\"起始编号...\"},model:{value:(serialNumber.startNo),callback:function ($$v) {_vm.$set(serialNumber, \"startNo\", $$v)},expression:\"serialNumber.startNo\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":1}},[_c('span',[_vm._v(\"--\")])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":4}},[_c('el-input',{attrs:{\"prefix-icon\":\"el-icon-edit\",\"size\":\"mini\",\"placeholder\":\"结束编号\"},model:{value:(serialNumber.endNo),callback:function ($$v) {_vm.$set(serialNumber, \"endNo\", $$v)},expression:\"serialNumber.endNo\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":5}},[_c('el-input',{attrs:{\"prefix-icon\":\"el-icon-edit\",\"size\":\"mini\",\"type\":\"text\",\"placeholder\":\"编码备注 。。。\"},model:{value:(serialNumber.note),callback:function ($$v) {_vm.$set(serialNumber, \"note\", $$v)},expression:\"serialNumber.note\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":3}},[_c('el-tooltip',{attrs:{\"effect\":\"light\",\"content\":\"删除\",\"placement\":\"right\"}},[_c('el-button',{staticStyle:{\"padding\":\"5px\",\"margin\":\"0\"},attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.deletSerialNo(index)}}})],1)],1)],1)],1)})],2)]),_vm._v(\" \"),_c('div',{staticStyle:{\"text-align\":\"right\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.addBox}},[_vm._v(\"添加\")])],1),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.marketPlanDetails,\"border\":\"\",\"height\":\"200\"}},[_c('el-table-column',{attrs:{\"prop\":\"sid\",\"align\":\"left\",\"label\":\"序号\",\"width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"clientName\",\"align\":\"left\",\"label\":\"客户名\",\"width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"abbrName\",\"align\":\"left\",\"label\":\"客户简称\",\"width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"name\",\"align\":\"left\",\"label\":\"产品名称\",\"width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"left\",\"label\":\"数量\",\"width\":\"80\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.quantity)+\"枚\")]}}],null,false,3875320087)}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"specs\",\"align\":\"left\",\"label\":\"规格\",\"width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"proNo\",\"align\":\"left\",\"label\":\"型号\",\"width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"name\",\"align\":\"left\",\"label\":\"编码规则\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-popover',{attrs:{\"trigger\":\"hover\",\"placement\":\"top\"}},[_vm._l((scope.row.marketPlanSerialNumber),function(serial,index){return _c('div',[_c('p',[_vm._v(\"编号: \"+_vm._s(serial.startNo)+\"- \"+_vm._s(serial.endNo)+\" ;备注: \"+_vm._s(serial.note)+\" \")])])}),_vm._v(\" \"),_c('div',{staticClass:\"name-wrapper\",attrs:{\"slot\":\"reference\"},slot:\"reference\"},[_c('el-tag',{attrs:{\"size\":\"medium\"}},[_vm._v(\"编码\")])],1)],2)]}}],null,false,3299174963)}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"notes\",\"align\":\"left\",\"label\":\"备注\",\"width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"left\",\"label\":\"操作\",\"width\":\"195\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{staticStyle:{\"padding\":\"3px 4px 3px 4px\",\"margin\":\"2px\"},attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.editeDetail(scope.$index,scope.row)}}},[_vm._v(\"编辑\\n                \")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"padding\":\"3px 4px 3px 4px\",\"margin\":\"2px\"},attrs:{\"type\":\"danger\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.deleteDetail(scope.$index,scope.row)}}},[_vm._v(\"删除\\n                \")])]}}],null,false,987709478)})],1)],1)])],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible=false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.add('addEmpForm')}}},[_vm._v(\"确 定\")])],1)]),_vm._v(\" \"),_c('el-dialog',{directives:[{name:\"dialogDrag\",rawName:\"v-dialogDrag\"}],staticStyle:{\"padding\":\"0px\"},attrs:{\"title\":_vm.dialogMaterialTitle,\"close-on-click-modal\":false,\"visible\":_vm.dialogMaterialVisible,\"width\":\"480px\"},on:{\"update:visible\":function($event){_vm.dialogMaterialVisible=$event},\"close\":_vm.cancelchoose}},[(_vm.dialogMaterialVisible)?_c('div',{staticStyle:{\"width\":\"100%\"}},[_c('div',{staticStyle:{\"padding\":\"0px\",\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"center\"}},[_c('div',{staticStyle:{\"display\":\"inline\"}},[_c('el-input',{staticStyle:{\"width\":\"300px\",\"margin\":\"0px\",\"padding\":\"0px\"},attrs:{\"placeholder\":\"通过名称搜索,记得回车哦...\",\"clearable\":\"\",\"size\":\"mini\",\"prefix-icon\":\"el-icon-search\"},on:{\"change\":_vm.keywordsMaterialChange},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.searchMaterialData($event)}},model:{value:(_vm.keyMaterialwords),callback:function ($$v) {_vm.keyMaterialwords=$$v},expression:\"keyMaterialwords\"}}),_vm._v(\" \"),_c('el-button',{staticStyle:{\"margin-left\":\"5px\"},attrs:{\"type\":\"primary\",\"size\":\"mini\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.searchMaterialData}},[_vm._v(\"搜索\\n          \")])],1)]),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.materialList,\"border\":\"\"},on:{\"row-click\":_vm.showRow}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"fixed\":\"\",\"label\":\"当前\",\"width\":\"80\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-radio',{attrs:{\"label\":scope.$index},model:{value:(_vm.selectedM),callback:function ($$v) {_vm.selectedM=$$v},expression:\"selectedM\"}},[_vm._v(\" \")])]}}],null,false,3683309166)}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"producteName\",\"align\":\"left\",\"fixed\":\"\",\"label\":\"名称\",\"width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"specification\",\"align\":\"left\",\"fixed\":\"\",\"label\":\"规格\",\"width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"proType\",\"align\":\"left\",\"fixed\":\"\",\"label\":\"型号\",\"width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"color\",\"align\":\"left\",\"fixed\":\"\",\"label\":\"颜色\",\"width\":\"120\"}})],1),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"flex-end\",\"margin\":\"2px\"}},[_c('el-pagination',{attrs:{\"background\":\"\",\"page-size\":10,\"pager-count\":11,\"current-page\":_vm.currentMaterialPage,\"layout\":\"prev, pager, next\",\"total\":_vm.totalMaterialCount},on:{\"current-change\":_vm.currentMaterialChange}})],1)],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogMaterialVisible=false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.chooseMaterial()}}},[_vm._v(\"确 定\")])],1)]),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.plans,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"marketPlanNo\",\"align\":\"left\",\"label\":\"编号\",\"width\":\"150\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"100\",\"align\":\"left\",\"label\":\"下单时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(_vm._f(\"formatDate\")(scope.row.createDate)))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"status\",\"width\":\"80\",\"align\":\"left\",\"formatter\":_vm.formatStatus,\"label\":\"状态\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"left\",\"label\":\"操作\",\"width\":\"195\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{staticStyle:{\"padding\":\"3px 4px 3px 4px\",\"margin\":\"2px\"},attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.showEditEmpView(scope.$index,scope.row)}}},[_vm._v(\"编辑\\n        \")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"padding\":\"3px 4px 3px 4px\",\"margin\":\"2px\"},attrs:{\"type\":\"danger\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.deleteData(scope.row)}}},[_vm._v(\"删除\\n        \")])]}}])})],1),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"flex-end\",\"margin\":\"2px\"}},[_c('el-pagination',{attrs:{\"background\":\"\",\"page-size\":10,\"pager-count\":11,\"current-page\":_vm.currentPage,\"layout\":\"prev, pager, next\",\"total\":_vm.totalCount},on:{\"current-change\":_vm.currentChange}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-743e3eec\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/sale/ProductionPlan.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-743e3eec\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ProductionPlan.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ProductionPlan.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ProductionPlan.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-743e3eec\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ProductionPlan.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/sale/ProductionPlan.vue\n// module id = null\n// module chunks = ","var map = {\n\t\"./ProductionPlan.vue\": \"O9uO\",\n\t\"./SaleBase.vue\": \"WaId\",\n\t\"./SalesPlan.vue\": \"6HRJ\"\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"UlK9\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/sale ^\\.\\/.*\\.vue$\n// module id = UlK9\n// module chunks = 4"],"sourceRoot":""}